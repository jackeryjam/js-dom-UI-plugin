"use strict";module.exports=function(t,a){for(var e=document.querySelectorAll('[swipeOnly="'+t+'"]'),m=null,n=function(n){var s,l,t=n.querySelector("[swipeAppend]"),r=t&&t.offsetWidth||60,i=0,o=n,u=(window.innerWidth,-(n.offsetWidth+r)),c=0,d=!1,f=!0,h=!0,b=function(t){t<-r||0<t||(this.style.webkitTransform="translate3d("+t+"px,0,0)",i=t)};n.addEventListener("touchstart",function(t){if(h=!0,delayTime=a&&a.time||300,setTimeout(function(){h=!1},delayTime),null!=m&&m!=n&&b.call(m,0),m=n,1==t.touches.length||f){var e=t.touches[0];s=e.pageX,l=e.pageY,c=i,o.style.webkitTransition="",(new Date).getTime(),f=d=!1}}.bind(this),!1),n.addEventListener("touchmove",function(t){if(h=!1,t.preventDefault(),!f){var e=t.touches[0],n=e.pageX-s,i=e.pageY-l;if(Math.abs(n)>Math.abs(i)){var a=c+(n<r?n:r);a<=0&&u<=a&&(b.call(o,a),d=!0),0<n?"right":"left"}}}.bind(this),!1),n.addEventListener("touchend",function(t){h&&a&&a.clickCb&&a.clickCb(n.dataset),d&&!f&&(f=!0,o.style.webkitTransition="0.3s ease -webkit-transform",b.call(o,i=-r/2<i?0:-r))}.bind(this),!1)},i=0;i<e.length;i++)n(e[i]);return function(){null!=m&&(m.style.webkitTransform="translate3d(0,0,0)",m=null)}};