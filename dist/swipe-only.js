"use strict";module.exports=function(t,p){for(var e=document.querySelectorAll('[swipeOnly="'+t+'"]'),v=null,n=function(i){var s,l,t=i.querySelector("[swipeAppend]"),r=t&&t.offsetWidth||60,a=0,o=i,u=(window.innerWidth,-(i.offsetWidth+r)),c=0,f=!1,d=!0,h=!0,b=function(t){t<-r||0<t||(this.style.webkitTransform="translate3d("+t+"px,0,0)",a=t)};i.addEventListener("touchstart",function(t){h=!0;var e=p&&p.time||300;if(setTimeout(function(){h=!1},e),null!=v&&v!=i&&b.call(v,0),v=i,1==t.touches.length||d){var n=t.touches[0];s=n.pageX,l=n.pageY,c=a,o.style.webkitTransition="",(new Date).getTime(),d=f=!1}}.bind(this),!1),i.addEventListener("touchmove",function(t){if(h=!1,t.preventDefault(),!d){var e=t.touches[0],n=e.pageX-s,i=e.pageY-l;if(Math.abs(n)>Math.abs(i)){var a=c+(n<r?n:r);a<=0&&u<=a&&(b.call(o,a),f=!0),0<n?"right":"left"}}}.bind(this),!1),i.addEventListener("touchend",function(t){h&&p&&p.clickCb&&p.clickCb(i.dataset),f&&!d&&(d=!0,o.style.webkitTransition="0.3s ease -webkit-transform",b.call(o,a=-r/2<a?0:-r))}.bind(this),!1)},i=0;i<e.length;i++)n(e[i]);return function(){null!=v&&(v.style.webkitTransform="translate3d(0,0,0)",v=null)}};