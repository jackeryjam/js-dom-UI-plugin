"use strict";function getPos(t){for(var e=0,o=0;t;)e+=t.offsetLeft,o+=t.offsetTop,t=t.offsetParent;return{left:e,top:o}}function getPixal(t){return"px"==t.substr(t.length-2)?parseInt(t.substr(0,t.length-2)):0}module.exports=function(t){var e=t&&t.id||"",o=t&&t.headerTag||"fixable-header",n=document.querySelector("["+o+"='"+e+"']");null==n&&(n=document.querySelector("[data-"+o+"='"+e+"']"));var r=t&&t.bodyTag||"fixable-body",s=document.querySelector("["+r+"='"+e+"']");null==s&&(s=document.querySelector("[data-"+r+"='"+e+"']"));var i=!1,l=getPos(s).top,a=n.offsetHeight;n.style.top=0;var f=t&&t.toFixed||function(){},u=t&&t.toNormal||function(){};function d(){var t=document.documentElement.scrollTop||document.body.scrollTop;!i&&l<t+a&&t<l+s.offsetHeight-n.offsetHeight?(s.style.marginTop=getPixal(s.style.marginTop)+a,n.style.position="fixed",i=!0,f()):i&&(t+a<l||t>l+s.offsetHeight-n.offsetHeight)&&(s.style.marginTop=getPixal(s.style.marginTop)-a,n.style.position="",i=!1,u())}return window.addEventListener("touchstart",function(){l=getPos(s).top}),window.addEventListener("scroll",d),d};