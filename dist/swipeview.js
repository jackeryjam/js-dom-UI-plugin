"use strict";module.exports=function(h){var e=h&&h.id||"",n=document.querySelector('[swipe-body="'+e+'"]');null==n&&(n=document.querySelector('[data-swipe-body="'+e+'"]'));var f=n.querySelector("div"),t=f.querySelectorAll("[swipe-item]");0==t.length&&(t=f.querySelectorAll("[data-swipe-item]"));var a=document.querySelector('[swipe-header="'+e+'"]');null==a&&(a=document.querySelector('[data-swipe-header="'+e+'"]'));var i=null==a?null:a.querySelectorAll("[swipe-nav]");i&&0==i.length&&(i=a.querySelectorAll("[data-swipe-nav]"));var r=h&&h.activeClass||"",v=0,s=-1,g=1,o={init:void(/(windows)/i.test(navigator.userAgent)||document.addEventListener("DOMContentLoaded",function(){n.style.overflow="hidden",f.style.display="flex",f.style.width=t.length+"00%";for(var e=0;e<t.length;e++)t[e].style.flex="1";o.setHeight(),o.bindTouchEvent(),o.setNavBar(),o.bindNavBar()}.bind(o),!1)),transform:function(e){this.style.webkitTransform="translate3d("+e+"px,0,0)",v=e},toPage:function(){var e=n.offsetWidth,t=-(g-1)*e;o.transform.call(f,t)},setNavBar:function(){null!==i&&""!==r&&(-1!=s&&i[s].classList.remove(r),i[s=g-1].classList.add(r))},bindNavBar:function(){if(null!==i)for(var e=function(t){i[t].addEventListener("click",function(e){g=t+1,o.setNavBar(),o.toPage(),o.setHeight()})},t=0;t<i.length;t++)e(t)},setHeight:function(){var e=t[s=g-1].offsetHeight;n.style.height=e},bindTouchEvent:function(){var r,s,a=n.offsetWidth,o=-a*(t.length-1),l=0,d="left",u=!1,i=0,c=!0;n.addEventListener("touchstart",function(e){if(1==e.touches.length||c){var t=e.touches[0];r=t.pageX,s=t.pageY,l=v,f.style.webkitTransition="",i=(new Date).getTime(),c=u=!1}return!0}.bind(this),!1),n.addEventListener("touchmove",function(e){if(!c){var t=e.touches[0],n=t.pageX-r,a=t.pageY-s;if(Math.abs(n)>Math.abs(a)){var i=l+n;i<=0&&o<=i&&(this.transform.call(f,i),u=!0),d=0<n?"right":"left"}return!0}}.bind(this),!1),n.addEventListener("touchend",function(e){var t=0,n=(new Date).getTime()-i;if(u&&!c)return c=!0,f.style.webkitTransition="0.3s ease -webkit-transform",t=n<300?(t=0<(t="left"==d?Math.floor(v/a)*a:Math.ceil(v/a)*a)?0:t)<o?o:t:Math.round(v/a)*a,this.transform.call(f,t),g=Math.round(Math.abs(t)/a)+1,this.setNavBar(),this.setHeight(),h&&h.touchendCb&&h.touchendCb(),!0}.bind(this),!1)}}};